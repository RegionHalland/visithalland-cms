.header {
	position:fixed;
	max-width:$container-max-width;
	left:0;
	right:0;
	margin:0 auto;
	z-index:$z4;
	padding:0;

	&__inner {
		box-shadow: 0 14px 28px rgba(0,0,0,0.15), 0 7px 10px rgba(0,0,0,0.22);
		margin:0 auto;
		background:palette(black, base);
		position:relative;
		@media (min-width:$breakpoint-sm) {
			border-radius: 0 0 $border-radius $border-radius;
		}

	}
	&__top-section {
		padding:$space-2;
		box-shadow: 0 14px 28px rgba(0,0,0,0.15), 0 7px 10px rgba(0,0,0,0.22);
		transition:transform 0.3s;
		&.search-open {
			transform:translateY(-20%);
		}
		transform:translateY(0%);
		@media (min-width:$breakpoint-sm) {
			padding:$space-2 $space-4;
		}
		@media (min-width:$breakpoint-md) {
			padding:$space-2 $space-4;
		}
		background-color: palette(black, base);
	}

	&__left, &__right {
		flex:2;
	}
	&__middle {
		padding:$space-1 0;
	}

	&__logo {
		margin-top:$space-1;
	}

	&__happenings, &__search {
		display:inherit;
	}

	&__support-links {
		display:none;
		@media (min-width:$breakpoint-sm) {
			display:block;
		}
	}

	&__support-link {
		color:$white;
    	font-family: $rift-font-family;
    	opacity:0.75;
    	font-weight:bold;
    	font-size:0.9em;
    	margin-right:$space-3;
    	transition: opacity 0.25s;
    	@media(min-width:$breakpoint-sm) {
	    	&:hover {
	    		opacity:1;
	    	}
	    }
	}
}



.header-search {
	transition:transform 0.4s;
	box-shadow: 0 14px 28px rgba(0,0,0,0.15), 0 7px 10px rgba(0,0,0,0.22);
	&.search-open {
		transform:translateY(0%);
	}
	transform:translateY(20%);
	position:absolute;
	overflow:hidden;
	top:0;
	left:0;
	display:none;
	right:0;
	padding:$space-2;
	@media (min-width:$breakpoint-sm) {
		padding:$space-2 $space-4;
	}
	background-color: palette(black, base);
}

.skip-to-content {
	padding:$space-3;
	display:block;
	text-align:center;
	background-color:palette(black, dark);
	left:-999px;
    position:absolute;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
    z-index:-999;

	&:focus {
		left:auto;
	    position:relative;
	    top:auto;
	    width:auto;
	    height:auto;
	    overflow:visible;
	    z-index:8;
		.skip-to-content__label {
			text-decoration:underline;
		}
	}

	&__label {
		font-size:1em;
		color:$white;
		font-family: $rift-font-family;

	}
}


.happenings__dropdown {
	position: absolute;
	width:325px;
	top:50px;
	right:10px;
	background:$white;
	border-radius:$border-radius;
	display:none;
	transform:translateY(-20px);
	z-index:3;
	transition:transform 0.4s;
	box-shadow: 0 14px 28px rgba(0,0,0,0.15), 0 7px 10px rgba(0,0,0,0.22);
	@media (min-width:$breakpoint-sm) {
		top:70px;
		right:20px;
	}
	&.active {
		transform:translateY(0);
	} 

}

.happenings__dropdown-button {
	position: relative;
	&.has-happenings {
		&::after {
			background:$orange;
			content:'';
			height:12px;
			width:12px;
			border-radius:50%;
			position: absolute;
			top:0;
			right:0;
		}
	}
}


.navigation {
	background-color: palette(black, light);
	z-index:1;
	-webkit-overflow-scrolling:touch;
	overflow-x:scroll;
	&__inner {
		@media (max-width:$breakpoint-md) { 
			white-space: nowrap;
		}
	}
	@media (min-width:$breakpoint-sm) {
		display:block;
		padding:$space-1 $space-4;
	}

	@media (min-width:$breakpoint-lg) {
		overflow:hidden;
		border-radius: 0 0 $border-radius $border-radius;
	}
	&__item {
        display:inline-block;
		padding:0.75rem $space-2;
		@media (min-width:$breakpoint-sm) {
        	padding:$space-2 $space-3;
        }

    }
    &__link {

    	@media(min-width:$breakpoint-sm) {
	    	&:hover {
				opacity:1;
				.navigation__icon-wrapper {
					@include themify {
			            background-color: $color-primary;
			        }
				}
				.navigation__icon {
					transform: translateY(100%);
				}
			}
		}

		&.active {
			opacity:1;
			.navigation__icon-wrapper {
				@include themify {
		            background-color: $color-primary;
		        }
			}
			.navigation__icon {
				transform: translateY(100%);
			}
		}
		opacity:0.45;
        color: $white;
        font-size: 1em;
        font-family: $rift-font-family;
        font-weight: bold;
        white-space: nowrap;
        transition: opacity 0.2s;
    }
    &__icon-wrapper {
        display: inline-block;
        vertical-align: middle;
        position: relative;
        overflow: hidden;
        margin-right:$space-1;
        height: 24px;
        width: 24px;
        transition: background-color 0.2s;
        border-radius: $border-radius;
        background-color: none;
    }
    &__icon {
        transition: transform 0.25s;
        @include themify {
            height: 24px;
            width: 24px;
            background-size: 100%;
            background-position: center;
            background-repeat: no-repeat;
            background-image: $icon;
            &::before {
                content: '';
                position: absolute;
                left:0;
                transform: translateY(-100%);
                height: 24px;
                width: 24px;
                background-size: 100%;
                background-position: center;
                background-repeat: no-repeat;
                background-image: $icon;
            }
        }
    }

}


.mobile-navigation, .menu-button {
	@media (min-width:$breakpoint-sm) {
		display:none;
	}
}

//Temporarily removed search button
.mobile-search-button {
	display:none !important;
}

.mobile-navigation {
	padding:$space-5 $space-2 $space-2 $space-2;
	min-height:100vh;
	overflow:scroll;
	width:100%;
	position:absolute;
	top:0;
	left:0;
	right:0;
	bottom:0;
	background-color: palette(black, light);
	z-index:1;
	display:none;
	&__item {
        display:block;
		padding:$space-2 0;
    }
    &__link {
    	&.active {
			opacity:1;
			.mobile-navigation__icon-wrapper {
				@include themify {
		            background-color: $color-primary;
		        }
			}
		}
		opacity:0.65;
        color: $white;
        font-size: 1.2em;
        font-family: $rift-font-family;
        font-weight: bold;
        white-space: nowrap;
        transition: opacity 0.2s;
    }
    &__icon-wrapper {
        display: inline-block;
        vertical-align: middle;
        position: relative;
        overflow: hidden;
        margin-right:$space-2;
        height: 24px;
        width: 24px;
        transition: background-color 0.2s;
        border-radius: $border-radius;
    }
    &__icon {
        transition: transform 0.25s;
        @include themify {
            height: 24px;
            width: 24px;
            background-size: 100%;
            background-position: center;
            background-repeat: no-repeat;
            background-image: $icon;
        }
    }

    &__header {
    	color:$white;
    	font-family: $rift-font-family;
    	opacity:0.75;
    	font-size:0.9em;
    	margin:$space-2 0;
    	padding:$space-2 0;
    }

    &__support-link {
    	color:$white;
    	font-size:1.1em;
    	font-weight:bold;
    	font-family: $rift-font-family;
    }

	&.active {
		transform:translateY(0%);
	}
}



#main-content {
	transition: transform 0.5s;
}

#main-content.menu-open {
	transform:translateY(-20px);
}




